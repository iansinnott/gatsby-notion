import { BlockType } from './types';
import { writeFileSync } from 'fs';
import mapIntermediateContentRepresentation from './mapIntermediateContentRepresentation';
import renderToHtml from './renderers/html';
import { inspect } from 'util';

const blocks = [
  {
    id: '35d7c634-f31a-45f8-a909-25c5496af9db',
    version: 56,
    type: 'page',
    properties: {
      Tags: 'bloggable',
      Date: '2020-04-15T00:00:00.000Z',
      Name: 'test me out',
    },
    content: [
      {
        id: 'eec497bb-8ba9-48c7-be90-981a08737232',
        version: 68,
        type: 'text',
        properties: {
          title: [['Hey, just so you know we can put content here.']],
        },
        created_time: 1587549780000,
        last_edited_time: 1587549780000,
        parent_id: '35d7c634-f31a-45f8-a909-25c5496af9db',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
    ],
    created_time: 1586853544538,
    last_edited_time: 1587549780000,
    parent_id: 'a5dcaa10-fb50-4c7b-bc5a-bdb20cd9397d',
    parent_table: 'collection',
    alive: true,
    created_by_table: 'notion_user',
    created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    last_edited_by_table: 'notion_user',
    last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    _notionBlockId: '35d7c634-f31a-45f8-a909-25c5496af9db',
    _propertyDetails: {
      Tags: {
        pid: '7c:5',
        value: 'bloggable',
        _raw: '[["bloggable"]]',
        name: 'Tags',
        type: 'multi_select',
      },
      Date: {
        pid: 'mM>l',
        value: '2020-04-15T00:00:00.000Z',
        _raw: '[["‣",[["d",{"type":"date","start_date":"2020-04-15"}]]]]',
        name: 'Date',
        type: 'date',
      },
      Name: {
        pid: 'title',
        value: 'test me out',
        _raw: '[["test me out"]]',
        name: 'Name',
        type: 'title',
      },
    },
  },
  {
    id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
    version: 49,
    type: 'page',
    properties: {
      Tags: 'billiards,bloggable',
      Date: '2019-08-15T00:00:00.000Z',
      Name: 'before you go go ',
    },
    content: [
      {
        id: '0f09a4b6-ca62-48a0-adb4-4a279000ed3c',
        version: 56,
        type: 'header',
        properties: {
          title: [['Content testing']],
        },
        created_time: 1586950020000,
        last_edited_time: 1586950020000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'd12ec8ca-8af6-4cbb-a4d9-3aae0e9529a8',
        version: 182,
        type: 'text',
        properties: {
          title: [
            ['This page will have '],
            ['some', [['i']]],
            [' content. The '],
            ['idea ', [['b']]],
            ['will', [['b'], ['i']]],
            [' be', [['b']]],
            [
              ' to get a sense of how content will be represented coming back from the server.',
            ],
          ],
        },
        created_time: 1586950020000,
        last_edited_time: 1587373140000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '80df45a0-ee40-43ea-bd55-7c2fe33a87c3',
        version: 16,
        type: 'newline',
        created_time: 1587379860000,
        last_edited_time: 1587379860000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        properties: {
          title: [['\n']],
        },
      },
      {
        id: 'e9e193d2-89ab-4fe4-8386-bf0ca4e5cc5f',
        version: 18,
        type: 'text',
        properties: {
          title: [
            ['Here is '],
            [
              'a link',
              [
                [
                  'a',
                  'https://www.raspberrypi.org/documentation/installation/installing-images/mac.md',
                ],
              ],
            ],
            ['.'],
          ],
        },
        created_time: 1587379860000,
        last_edited_time: 1587379860000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'a6387b62-2dee-41e2-a05d-43d9dfbd3fd0',
        version: 9,
        type: 'newline',
        created_time: 1586950080000,
        last_edited_time: 1586950080000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        properties: {
          title: [['\n']],
        },
      },
      {
        id: 'e87794b0-9d85-48ad-bd20-c6ad0c26ae6a',
        version: 63,
        type: 'code',
        properties: {
          title: [['Here is a code block. Quite nice ']],
          language: [['JavaScript']],
        },
        created_time: 1586950080000,
        last_edited_time: 1586950080000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '1223ce86-b7d0-4f08-b2c9-2cf4ccf8f28f',
        version: 15,
        type: 'newline',
        created_time: 1586950080000,
        last_edited_time: 1586950080000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        properties: {
          title: [['\n']],
        },
      },
      {
        id: '82006f40-d600-49d3-8f0d-fe5b5b944155',
        version: 64,
        type: 'image',
        properties: {
          source: [
            [
              'https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93db8594-47ce-4c19-b25c-eaf4c585385c/2020-04-13_at_3.11_PM.png',
            ],
          ],
          caption: [
            ['What if an '],
            ['image', [['b']]],
            [' has a '],
            ['caption', [['h', 'orange_background']]],
            ['?'],
          ],
        },
        format: {
          block_width: 993,
          display_source:
            'https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93db8594-47ce-4c19-b25c-eaf4c585385c/2020-04-13_at_3.11_PM.png',
          block_full_width: false,
          block_page_width: true,
          block_aspect_ratio: 0.6304128902316214,
          block_preserve_scale: true,
        },
        created_time: 1586950108267,
        last_edited_time: 1587537540000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        file_ids: ['93db8594-47ce-4c19-b25c-eaf4c585385c'],
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '418b9720-6c67-41df-8cdb-756ddc70889a',
        version: 8,
        type: 'newline',
        created_time: 1587373800000,
        last_edited_time: 1587373800000,
        parent_id: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        properties: {
          title: [['\n']],
        },
      },
    ],
    created_time: 1586853544538,
    last_edited_time: 1587537540000,
    parent_id: 'a5dcaa10-fb50-4c7b-bc5a-bdb20cd9397d',
    parent_table: 'collection',
    alive: true,
    created_by_table: 'notion_user',
    created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    last_edited_by_table: 'notion_user',
    last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    _notionBlockId: 'ac5fc958-75b6-4b0f-9f54-8192226d2d7d',
    _propertyDetails: {
      Tags: {
        pid: '7c:5',
        value: 'billiards,bloggable',
        _raw: '[["billiards,bloggable"]]',
        name: 'Tags',
        type: 'multi_select',
      },
      Date: {
        pid: 'mM>l',
        value: '2019-08-15T00:00:00.000Z',
        _raw: '[["‣",[["d",{"type":"date","start_date":"2019-08-15"}]]]]',
        name: 'Date',
        type: 'date',
      },
      Name: {
        pid: 'title',
        value: 'before you go go ',
        _raw: '[["before you go go "]]',
        name: 'Name',
        type: 'title',
      },
    },
  },
  {
    id: '85070601-db92-480b-985f-1ad98b37a8df',
    version: 21,
    type: 'page',
    properties: {
      Date: '2010-02-02T00:00:00.000Z',
      Name: 'hey hey hey',
    },
    content: [
      {
        id: '10d00ce5-1bd0-4579-ae80-6935d5d2bec6',
        version: 33,
        type: 'text',
        properties: {
          title: [['More content is required!']],
        },
        created_time: 1587549780000,
        last_edited_time: 1587549780000,
        parent_id: '85070601-db92-480b-985f-1ad98b37a8df',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
    ],
    created_time: 1586853544538,
    last_edited_time: 1587549780000,
    parent_id: 'a5dcaa10-fb50-4c7b-bc5a-bdb20cd9397d',
    parent_table: 'collection',
    alive: true,
    created_by_table: 'notion_user',
    created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    last_edited_by_table: 'notion_user',
    last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    _notionBlockId: '85070601-db92-480b-985f-1ad98b37a8df',
    _propertyDetails: {
      Date: {
        pid: 'mM>l',
        value: '2010-02-02T00:00:00.000Z',
        _raw: '[["‣",[["d",{"type":"date","start_date":"2010-02-02"}]]]]',
        name: 'Date',
        type: 'date',
      },
      Name: {
        pid: 'title',
        value: 'hey hey hey',
        _raw: '[["hey hey hey"]]',
        name: 'Name',
        type: 'title',
      },
    },
  },
  {
    id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
    version: 170,
    type: 'page',
    properties: {
      Date: '2020-04-22T00:00:00.000Z',
      Name: 'Full Markdown Syntax',
    },
    content: [
      {
        id: '90dc2d7d-890b-4ec4-8918-0a4ee002ffa9',
        version: 22,
        type: 'text',
        properties: {
          title: [['Super nested']],
        },
        created_time: 1587551400000,
        last_edited_time: 1587551400000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '4a1abefc-1dd4-4d9a-8942-5d0fdeba73bd',
        version: 21,
        type: 'bulleted_list',
        properties: {
          title: [['one']],
        },
        content: [
          {
            id: '9d397b7e-6e01-4bc0-83fe-3414a2b719ae',
            version: 20,
            type: 'bulleted_list',
            properties: {
              title: [['two']],
            },
            content: [
              {
                id: '2d8e2912-62ed-4aa9-9dd7-2281e66f6099',
                version: 30,
                type: 'bulleted_list',
                properties: {
                  title: [['three']],
                },
                content: [
                  {
                    id: 'f1bb5e25-7de0-4284-aef5-6097d280df4f',
                    version: 19,
                    type: 'bulleted_list',
                    properties: {
                      title: [['four']],
                    },
                    content: [
                      {
                        id: '0a230ab4-372e-4259-ba61-4c7e24661f3b',
                        version: 17,
                        type: 'bulleted_list',
                        properties: {
                          title: [['five']],
                        },
                        created_time: 1587551400000,
                        last_edited_time: 1587551400000,
                        parent_id: 'f1bb5e25-7de0-4284-aef5-6097d280df4f',
                        parent_table: 'block',
                        alive: true,
                        created_by_table: 'notion_user',
                        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
                        last_edited_by_table: 'notion_user',
                        last_edited_by_id:
                          '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
                      },
                    ],
                    created_time: 1587551400000,
                    last_edited_time: 1587551460000,
                    parent_id: '2d8e2912-62ed-4aa9-9dd7-2281e66f6099',
                    parent_table: 'block',
                    alive: true,
                    created_by_table: 'notion_user',
                    created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
                    last_edited_by_table: 'notion_user',
                    last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
                  },
                ],
                created_time: 1587551400000,
                last_edited_time: 1587551460000,
                parent_id: '9d397b7e-6e01-4bc0-83fe-3414a2b719ae',
                parent_table: 'block',
                alive: true,
                created_by_table: 'notion_user',
                created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
                last_edited_by_table: 'notion_user',
                last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
              },
            ],
            created_time: 1587551400000,
            last_edited_time: 1587551460000,
            parent_id: '4a1abefc-1dd4-4d9a-8942-5d0fdeba73bd',
            parent_table: 'block',
            alive: true,
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: '3b105220-517f-4c34-8b92-7c74fe3f610b',
            version: 24,
            type: 'bulleted_list',
            properties: {
              title: [['twoagain']],
            },
            created_time: 1587551400000,
            last_edited_time: 1587551460000,
            parent_id: '4a1abefc-1dd4-4d9a-8942-5d0fdeba73bd',
            parent_table: 'block',
            alive: true,
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
        ],
        created_time: 1587551400000,
        last_edited_time: 1587551460000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'ea4b8113-aeb6-406a-af2b-b4457bf7fdaf',
        version: 3,
        type: 'header',
        properties: {
          title: [['Markdown: Syntax']],
        },
        created_time: 1587550669908,
        last_edited_time: 1587551400000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '0cc80fab-e6b0-4bc4-9eee-55759e6356e7',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '4523ffc4-b487-45cb-bd04-033533735604',
        version: 3,
        type: 'bulleted_list',
        properties: {
          title: [['Overview', [['a', 'about:blank#overview']]]],
        },
        content: [
          {
            id: '5c0e41f0-62da-4c97-b61d-8120ec9043d0',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Philosophy', [['a', 'about:blank#philosophy']]]],
            },
            created_time: 1587550669908,
            last_edited_time: 1587550620000,
            parent_id: '4523ffc4-b487-45cb-bd04-033533735604',
            parent_table: 'block',
            alive: true,
            copied_from: 'a23ce358-ab3a-41ff-8045-63be7bc2f372',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'f009d4ea-0d70-43ec-8199-3581a6b3d530',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Inline HTML', [['a', 'about:blank#html']]]],
            },
            created_time: 1587550669908,
            last_edited_time: 1587550620000,
            parent_id: '4523ffc4-b487-45cb-bd04-033533735604',
            parent_table: 'block',
            alive: true,
            copied_from: 'da38da61-aa16-4f42-9a0e-713356588981',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'e47f8e82-9bd3-40bf-b179-82d8ab4d85a5',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [
                [
                  'Automatic Escaping for Special Characters',
                  [['a', 'about:blank#autoescape']],
                ],
              ],
            },
            created_time: 1587550669908,
            last_edited_time: 1587550620000,
            parent_id: '4523ffc4-b487-45cb-bd04-033533735604',
            parent_table: 'block',
            alive: true,
            copied_from: '7e171109-0f8b-4b44-829b-f1c53e3e30d9',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
        ],
        created_time: 1587550669908,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '506c83cb-40a2-4439-a0ba-c49267548a68',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '30f9f981-d35e-4ccf-b546-af608a41d453',
        version: 3,
        type: 'bulleted_list',
        properties: {
          title: [['Block Elements', [['a', 'about:blank#block']]]],
        },
        content: [
          {
            id: '1026995f-1753-4bbf-b3cb-ae2760fa012d',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Paragraphs and Line Breaks', [['a', 'about:blank#p']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: '970a7cc9-ed86-4aa0-9165-45eb460a25bb',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'd661c946-3c3e-4715-8277-615f03296a44',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Headers', [['a', 'about:blank#header']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: 'c8b10066-ffd1-4137-98bb-e1ce2cdc23b2',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: '4694474f-beb1-4664-87be-f3f640956225',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Blockquotes', [['a', 'about:blank#blockquote']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: '6a5012a9-f83c-4722-8cb2-7d689ce580ba',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'eb365dc2-5895-44c9-8312-d7e1104ad45b',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Lists', [['a', 'about:blank#list']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: 'da02b31c-04fd-40b5-9eed-f693363b1934',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'ce76ae5b-aab9-41ec-b3f0-7dc629262ac8',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Code Blocks', [['a', 'about:blank#precode']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: '8252d7b8-48f2-42e5-bd58-5f67fa2d8880',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: '3cf07cc9-877f-4837-a7d5-be56ee6c1a58',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Horizontal Rules', [['a', 'about:blank#hr']]]],
            },
            created_time: 1587550669909,
            last_edited_time: 1587550620000,
            parent_id: '30f9f981-d35e-4ccf-b546-af608a41d453',
            parent_table: 'block',
            alive: true,
            copied_from: 'a2a38040-1643-4887-b597-a4f9116d1b7b',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
        ],
        created_time: 1587550669909,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '958ca07c-5d8c-4daa-8c0e-84db64a9c17b',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'e674202c-dd4c-421d-9987-073ab10a00b8',
        version: 3,
        type: 'bulleted_list',
        properties: {
          title: [['Span Elements', [['a', 'about:blank#span']]]],
        },
        content: [
          {
            id: 'c2a37f13-031c-4cf6-9405-ae45e3bd44ac',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Links', [['a', 'about:blank#link']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'e674202c-dd4c-421d-9987-073ab10a00b8',
            parent_table: 'block',
            alive: true,
            copied_from: 'bd993295-9edc-41a7-b9ed-d1467307d38c',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: '0f6f6191-77af-4f3e-a9b7-82abd8fbe9e4',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Emphasis', [['a', 'about:blank#em']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'e674202c-dd4c-421d-9987-073ab10a00b8',
            parent_table: 'block',
            alive: true,
            copied_from: '853e16dd-0fed-4a42-b144-13a9ee53a48d',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'f5203094-a128-44fe-9fee-a4410c424b71',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Code', [['a', 'about:blank#code']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'e674202c-dd4c-421d-9987-073ab10a00b8',
            parent_table: 'block',
            alive: true,
            copied_from: '0db2b8b6-78bf-4771-9502-22faae318704',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'dfb642c7-d79a-4a4e-8ff4-07d9737081ce',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Images', [['a', 'about:blank#img']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'e674202c-dd4c-421d-9987-073ab10a00b8',
            parent_table: 'block',
            alive: true,
            copied_from: 'f5f07391-e320-411a-9800-4a91440ac759',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
        ],
        created_time: 1587550669910,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: 'b11d6756-6443-477d-988e-0492c8182b30',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'c8173178-d044-4421-b5cb-9e685e5d458b',
        version: 3,
        type: 'bulleted_list',
        properties: {
          title: [['Miscellaneous', [['a', 'about:blank#misc']]]],
        },
        content: [
          {
            id: '2fd9b1f1-7356-4683-a037-b81dcb4568fc',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Backslash Escapes', [['a', 'about:blank#backslash']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'c8173178-d044-4421-b5cb-9e685e5d458b',
            parent_table: 'block',
            alive: true,
            copied_from: '2053a901-c6de-4d57-93dd-60ae08c73d24',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
          {
            id: 'e1aa2d34-df3c-4fd1-9b76-bb7a6647d3c9',
            version: 2,
            type: 'bulleted_list',
            properties: {
              title: [['Automatic Links', [['a', 'about:blank#autolink']]]],
            },
            created_time: 1587550669910,
            last_edited_time: 1587550620000,
            parent_id: 'c8173178-d044-4421-b5cb-9e685e5d458b',
            parent_table: 'block',
            alive: true,
            copied_from: '84b71ce2-889c-44ef-90a8-9d2e82aff7a2',
            created_by_table: 'notion_user',
            created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
            last_edited_by_table: 'notion_user',
            last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
          },
        ],
        created_time: 1587550669910,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: 'd97ea360-2859-4bb6-aaa7-dcd7c61dc14f',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'f2966caa-a732-4d4e-a353-0063be482189',
        version: 3,
        type: 'text',
        properties: {
          title: [
            ['Note:', [['b']]],
            [' This document is itself written using Markdown; you can '],
            [
              'see the source for it by adding ‘.text’ to the URL',
              [['a', '/projects/markdown/syntax.text']],
            ],
            ['.'],
          ],
        },
        created_time: 1587550669911,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '62bbb8b6-e876-4583-8e56-2777ff276083',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '1748e66a-e60a-4c7c-a41b-dd13e6757283',
        version: 3,
        type: 'sub_header',
        properties: {
          title: [['Overview']],
        },
        created_time: 1587550669911,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '06aae096-985d-4513-bc75-ff522bae7731',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'e0b7d442-f995-41b8-af34-d538aa925857',
        version: 3,
        type: 'sub_sub_header',
        properties: {
          title: [['Philosophy']],
        },
        created_time: 1587550669912,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '46113b58-0b1b-44d8-a42b-03118ab9f961',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: 'c8905e6e-cdb5-41e8-9deb-5df24e6c254e',
        version: 3,
        type: 'text',
        properties: {
          title: [
            [
              'Markdown is intended to be as easy-to-read and easy-to-write as is feasible.',
            ],
          ],
        },
        created_time: 1587550669912,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: 'a52d1ba4-f7b8-4f7d-a373-1286e5799af1',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '577d0347-0cce-49f7-a38a-c303566f0505',
        version: 3,
        type: 'text',
        properties: {
          title: [
            [
              'Readability, however, is emphasized above all else. A Markdown-formatted document should be publishable as-is, as plain text, without looking like it’s been marked up with tags or formatting instructions. While Markdown’s syntax has been influenced by several existing text-to-HTML filters – including ',
            ],
            [
              'Setext',
              [['a', 'http://docutils.sourceforge.net/mirror/setext.html']],
            ],
            [', '],
            ['atx', [['a', 'http://www.aaronsw.com/2002/atx/']]],
            [', '],
            ['Textile', [['a', 'http://textism.com/tools/textile/']]],
            [', '],
            [
              'reStructuredText',
              [['a', 'http://docutils.sourceforge.net/rst.html']],
            ],
            [', '],
            [
              'Grutatext',
              [['a', 'http://www.triptico.com/software/grutatxt.html']],
            ],
            [', and '],
            ['EtText', [['a', 'http://ettext.taint.org/doc/']]],
            [
              ' – the single biggest source of inspiration for Markdown’s syntax is the format of plain text email.',
            ],
          ],
        },
        created_time: 1587550669912,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '22bbb5a4-e920-459a-8186-120a5ec1584b',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '70aa2a79-50ea-4198-bfbd-bd45754008fb',
        version: 3,
        type: 'sub_header',
        properties: {
          title: [['Block Elements']],
        },
        created_time: 1587550669912,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '45ce59ca-e08d-4a4b-84a5-c0ec957cdb53',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
      {
        id: '50258024-f965-40f7-ab0b-1b779b0daa37',
        version: 3,
        type: 'sub_sub_header',
        properties: {
          title: [['Paragraphs and Line Breaks']],
        },
        created_time: 1587550669912,
        last_edited_time: 1587550620000,
        parent_id: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
        parent_table: 'block',
        alive: true,
        copied_from: '7c811485-4554-4abc-9950-d35659112d93',
        created_by_table: 'notion_user',
        created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
        last_edited_by_table: 'notion_user',
        last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
      },
    ],
    created_time: 1587549840000,
    last_edited_time: 1587551460000,
    parent_id: 'a5dcaa10-fb50-4c7b-bc5a-bdb20cd9397d',
    parent_table: 'collection',
    alive: true,
    created_by_table: 'notion_user',
    created_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    last_edited_by_table: 'notion_user',
    last_edited_by_id: '0c9481d1-e23d-4b54-bd77-5637e63ae4f1',
    _notionBlockId: 'd543d6f2-6aba-4641-a2c5-c2efe269ecb5',
    _propertyDetails: {
      Date: {
        pid: 'mM>l',
        value: '2020-04-22T00:00:00.000Z',
        _raw: '[["‣",[["d",{"type":"date","start_date":"2020-04-22"}]]]]',
        name: 'Date',
        type: 'date',
      },
      Name: {
        pid: 'title',
        value: 'Full Markdown Syntax',
        _raw: '[["Full Markdown Syntax"]]',
        name: 'Name',
        type: 'title',
      },
    },
  },
];
const parseBlockNodes = (xs: BlockType[]): object => {
  return xs.map(mapIntermediateContentRepresentation).map((x) => {
    return {
      ...x,
      html: renderToHtml()(x),
    };
  });
};

// @ts-ignore
const result = parseBlockNodes(blocks as BlockType[]);

writeFileSync(
  '/tmp/notion-intermiedate.json',
  JSON.stringify(result, null, 2),
  { encoding: 'utf8' },
);

console.log(
  inspect(result, {
    colors: true,
    depth: 20,
  }),
);
